<! This code aims to create an app which tracks the user's location, triggers a question at certain locations 
 and ideally shows the location (and question?) on a map
 Includes code form tutorials: week1/3 (tracking location), week2/3 (calculating distance), week2/1 (adding map), !>

<html>
<head>
<title>Test HTML Location Functionality</title>
<script>


		function getDistance() {
			navigator.geolocation.getCurrentPosition(getDistanceFromPoint);
		}

		function getDistanceFromPoint(position) {
			var lat = 51.524616;
			var lng = -0.13818;
			var distance = calculateDistance(position.coords.latitude, position.coords.longitude, lat,lng, 'K');
			var q1 = "Sample Question"
			if (distance < 1) {
				document.getElementById('showQuestion').innerHTML = q1;}


		}

		function calculateDistance(lat1, lon1, lat2, lon2, unit) {
 			var radlat1 = Math.PI * lat1/180;
 			var radlat2 = Math.PI * lat2/180;
 			var radlon1 = Math.PI * lon1/180;
 			var radlon2 = Math.PI * lon2/180;
 			var theta = lon1-lon2;
 			var radtheta = Math.PI * theta/180;
 			var subAngle = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);
 			subAngle = Math.acos(subAngle);
 			subAngle = subAngle * 180/Math.PI; // convert the degree value returned by acos back to degrees from radians
 			dist = (subAngle/360) * 2 * Math.PI * 3956; // ((subtended angle in degrees)/360) * 2 * pi * radius )
 			if (unit=="K") { dist = dist * 1.609344 ;} // convert miles to km
 			if (unit=="N") { dist = dist * 0.8684 ;} // convert miles to nautical miles
 				return dist;

		}
	


</script>
</head>

<body>

		<b>You might find a question here:</b>
		<div id='showQuestion'></div>
		<button idd='getDistance' onclick=getDistance()>Click Me to check for a Question</button>		
</body>
</html>